<!-- live-earnings.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Earnings – SuperNFT</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#020617;color:#fff}
header{position:fixed;top:0;left:0;right:0;background:#020617;
border-bottom:1px solid #1e293b;padding:14px;text-align:center;color:#38bdf8;font-weight:bold;z-index:10}
.main{padding:80px 15px}
.back{color:#38bdf8;text-decoration:none;display:inline-block;margin-bottom:10px}

.earn-box{background:#0f172a;padding:15px;border-radius:12px;margin-bottom:12px}
.earn-title{color:#38bdf8;font-weight:bold;margin-bottom:6px}
.earn-value{font-size:18px;margin-top:4px}
</style>
</head>

<body>
<header>⚡ Live Earnings</header>
<div class="main">
<a class="back" href="dashboard.html">⬅ Back to Dashboard</a>

<div id="earningsContainer"></div>
</div>

<script>
// Load NFTs from localStorage
const nfts = JSON.parse(localStorage.getItem("myNFTs")) || [];

const container = document.getElementById("earningsContainer");

function renderEarnings(){
  container.innerHTML="";
  let totalDaily = 0;
  let totalLive = 0;
  const now = Date.now();

  nfts.forEach((n,i)=>{
    const seconds = (now - n.boughtAt)/1000;
    const live = seconds*(n.daily/86400);
    totalDaily += n.daily;
    totalLive += live;

    container.innerHTML += `
      <div class="earn-box">
        <div class="earn-title">NFT ${i+1}</div>
        <div>Daily: $${n.daily.toFixed(2)}</div>
        <div class="earn-value">Live: $${live.toFixed(4)}</div>
      </div>
    `;
  });

  // Total earnings
  container.innerHTML += `
    <div class="earn-box">
      <div class="earn-title">Total Daily Income</div>
      <div class="earn-value">$${totalDaily.toFixed(2)}</div>
    </div>
    <div class="earn-box">
      <div class="earn-title">Total Live Earnings</div>
      <div class="earn-value">$${totalLive.toFixed(4)}</div>
    </div>
  `;
}

renderEarnings();
setInterval(renderEarnings,1000);
</script>
</body>
</html>
