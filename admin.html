<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel - SuperNFT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#020617;color:white;}
header{position:sticky;top:0;background:#0a192f;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #1e293b;}
header .logo{font-size:22px;font-weight:bold;color:#38bdf8;}
.container{max-width:800px;margin:50px auto;padding:20px;background:#0f172a;border-radius:12px;}
h2{margin-bottom:15px;}
button{padding:6px 12px;border:none;border-radius:6px;background:#38bdf8;color:#020617;margin:2px;cursor:pointer;}
table{width:100%;border-collapse:collapse;}
th,td{border:1px solid #38bdf8;padding:8px;text-align:center;}
</style>
</head>
<body>
<header>
  <div class="logo">Admin Panel</div>
</header>

<div class="container">
  <h2>Pending Deposits</h2>
  <table id="depositTable">
    <tr><th>Amount ($)</th><th>Time</th><th>Action</th></tr>
  </table>

  <h2>Pending Withdraws</h2>
  <table id="withdrawTable">
    <tr><th>Amount ($)</th><th>Time</th><th>Action</th></tr>
  </table>
</div>

<script>
// Load pending deposits
function loadDeposits(){
  let deposits = JSON.parse(localStorage.getItem("pendingDeposits")) || [];
  let tbody = document.getElementById("depositTable");
  tbody.innerHTML="<tr><th>Amount ($)</th><th>Time</th><th>Action</th></tr>";
  deposits.forEach((d,i)=>{
    let row = tbody.insertRow();
    row.insertCell(0).innerText=d.amount;
    row.insertCell(1).innerText=new Date(d.time).toLocaleString();
    row.insertCell(2).innerHTML=`<button onclick="approveDeposit(${i})">Approve</button>`;
  });
}
function approveDeposit(i){
  let deposits = JSON.parse(localStorage.getItem("pendingDeposits")) || [];
  let wallet = parseFloat(localStorage.getItem("walletBalance")) || 0;
  wallet += deposits[i].amount;
  localStorage.setItem("walletBalance",wallet.toFixed(2));
  deposits.splice(i,1);
  localStorage.setItem("pendingDeposits",JSON.stringify(deposits));
  loadDeposits();
  alert("✅ Deposit Approved");
}
loadDeposits();

// Load pending withdraws
function loadWithdraws(){
  let withdraws = JSON.parse(localStorage.getItem("pendingWithdraws")) || [];
  let tbody = document.getElementById("withdrawTable");
  tbody.innerHTML="<tr><th>Amount ($)</th><th>Time</th><th>Action</th></tr>";
  withdraws.forEach((d,i)=>{
    let row = tbody.insertRow();
    row.insertCell(0).innerText=d.amount;
    row.insertCell(1).innerText=new Date(d.time).toLocaleString();
    row.insertCell(2).innerHTML=`<button onclick="approveWithdraw(${i})">Approve</button>`;
  });
}
function approveWithdraw(i){
  let withdraws = JSON.parse(localStorage.getItem("pendingWithdraws")) || [];
  withdraws.splice(i,1);
  localStorage.setItem("pendingWithdraws",JSON.stringify(withdraws));
  loadWithdraws();
  alert("✅ Withdraw Approved");
}
loadWithdraws();
</script>
</body>
</html>
