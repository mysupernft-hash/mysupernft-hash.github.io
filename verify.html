<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Verify Email - SuperNFT</title>
</head>
<body>
<h2>Email Verification</h2>
<div id="status"></div>

<script>
const urlParams = new URLSearchParams(window.location.search);
const email = urlParams.get("email");

if(!email) {
    document.getElementById("status").innerText = "Invalid verification link.";
} else {
    const users = JSON.parse(localStorage.getItem("users")) || [];
    const user = users.find(u => u.email === email);

    if(!user) {
        document.getElementById("status").innerText = "User not found.";
    } else if(user.verified) {
        document.getElementById("status").innerText = "Email already verified!";
    } else {
        user.verified = true;
        localStorage.setItem("users", JSON.stringify(users));
        document.getElementById("status").innerText = "âœ… Email verified successfully! You can now login.";
    }
}
</script>
</body>
</html>
