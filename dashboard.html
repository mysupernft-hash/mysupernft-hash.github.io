<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<meta charset="UTF-8">
<title>SuperNFT Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#020617;color:white;overflow-x:hidden}
header{position:sticky;top:0;background:#020617;padding:15px;text-align:center;font-size:22px;color:#38bdf8;border-bottom:1px solid #1e293b;z-index:999;}
.summary{display:flex;gap:15px;justify-content:center;flex-wrap:wrap;padding:10px;font-size:13px;}
.box{background:#0f172a;padding:10px 14px;border-radius:12px;text-align:center;min-width:120px;}
<a href="live-earnings.html">ğŸ’¹ Live Earnings</a>
<a href="my-level.html">ğŸ“Š My Level</a>
<a href="my-team.html">ğŸ‘¥ My Team</a>
<a href="wallet.html">ğŸ’³ Wallet</a>
.menu-btn{position:fixed;top:18px;left:18px;font-size:24px;cursor:pointer;z-index:1000;}
.side-menu{position:fixed;top:0;left:-220px;width:200px;height:100%;background:#0f172a;padding:15px;transition:0.3s;z-index:1000;}
.side-menu.active{left:0;}
.side-menu button{display:block;width:100%;padding:8px;margin:6px 0;border:none;border-radius:10px;background:#38bdf8;color:#020617;font-weight:bold;text-align:left;cursor:pointer;}
.tabs{display:flex;gap:10px;padding:10px;overflow-x:auto;justify-content:center;}
.tabs button{padding:6px 12px;border-radius:20px;border:1px solid #38bdf8;background:#0f172a;color:#38bdf8;cursor:pointer;}
.tabs button.active{background:#38bdf8;color:#020617;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:15px;padding:15px;}
.card{background:#0f172a;border-radius:14px;padding:10px;text-align:center;cursor:pointer;transition:.2s;}
.card:hover{transform:scale(1.03);}
.card img{width:100%;border-radius:10px;}
.price{color:#38bdf8;font-weight:bold;margin:4px 0;}
.meta{font-size:12px;color:#cbd5f5;line-height:1.3;}
.modal-bg{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:2000;justify-content:center;align-items:center;}
.modal{background:#020617;padding:20px;border-radius:12px;width:90%;max-width:400px;color:white;text-align:center;position:relative;}
.modal img{width:100%;border-radius:10px;}
.close-modal{position:absolute;top:10px;right:12px;font-size:20px;background:none;border:none;color:#38bdf8;cursor:pointer;}
</style>
</head>
<body>

  <!-- Calculator & Live Earnings Popup (Dashboard me integrate) -->
<!-- Add ye snippet dashboard.html ke <body> ke end me -->

<!-- Calculator & Live Earnings Popup -->
<div id="popupOverlay" style="
display:none;
position:fixed;
top:0;left:0;width:100%;height:100%;
background:rgba(0,0,0,0.7);
z-index:9999;">
  <div style="
  background:#020617;margin:60px auto;width:90%;max-width:420px;
  border-radius:14px;padding:15px;color:white;position:relative">
    <button onclick="closePopup()" style="
    position:absolute;top:10px;right:10px;background:none;
    border:none;color:#38bdf8;font-size:22px;cursor:pointer;">âœ–</button>
    <h3 style="color:#38bdf8;margin-top:0;text-align:center">ğŸ“Š NFT Calculator & Live Earnings</h3>
    <div id="calcContent" style="margin-top:10px;font-size:14px;line-height:1.6;max-height:300px;overflow-y:auto;"></div>
  </div>
</div>

<script>
// Combined NFT list from all categories
const allNFTs = [
  {name:"Starter1",price:10,dailyPercent:0.2},
  {name:"Starter2",price:15,dailyPercent:0.3},
  {name:"Starter3",price:20,dailyPercent:0.4},
  {name:"Rising1",price:55,dailyPercent:1.3},
  {name:"Rising2",price:60,dailyPercent:1.5},
  {name:"Elite1",price:150,dailyPercent:5},
  {name:"Elite2",price:200,dailyPercent:6.6},
  {name:"Legendary1",price:499,dailyPercent:25},
  {name:"Legendary2",price:599,dailyPercent:30},
  // Add all 30 NFTs here similarly
];

// Open Popup
function openPopup(){
  document.getElementById("popupOverlay").style.display="block";
  renderCalculator();
}

// Close Popup
function closePopup(){
  document.getElementById("popupOverlay").style.display="none";
}

// Render NFT Calculator & Live Earnings
function renderCalculator(){
  const div = document.getElementById("calcContent");
  div.innerHTML="";
  allNFTs.forEach(n=>{
    const daily = (n.price*n.dailyPercent)/100;
    const yearly = daily*365;
    div.innerHTML+=`
      <div style="border-bottom:1px solid #1e293b;padding:6px 0">
        <b>${n.name}</b> | Price: $${n.price} | Daily: $${daily.toFixed(2)} | 365 Days ROI: $${yearly.toFixed(2)}
      </div>`;
  });
}

// Live Earnings calculation
function updateLiveEarnings(){
  const data = JSON.parse(localStorage.getItem("myNFTs")) || [];
  let live=0;
  data.forEach(n=>{
    const sec=(Date.now()-n.boughtAt)/1000;
    live+=sec*(n.daily/86400);
  });
  // Update dashboard live earnings
  const el = document.getElementById("liveEarnings");
  if(el) el.innerText="$"+live.toFixed(4);
}
setInterval(updateLiveEarnings,1000);
updateLiveEarnings();
</script>

<!-- Dashboard button to open -->
<button style="margin:10px;padding:10px 18px;border-radius:10px;border:none;background:#38bdf8;color:#020617;font-weight:bold" onclick="openPopup()">ğŸ“Š Open NFT Calculator & Live Earnings</button>

<header>SuperNFT Dashboard</header>

  <a href="admin-withdraw.html">ğŸ’¸ Withdraw Approvals</a>
<div class="menu-btn" id="menuBtn">â˜°</div>
<div class="side-menu" id="sideMenu">
  <button onclick="openPage('account')">ğŸ‘¤ My Account</button>
  <button onclick="openPage('investments')">ğŸ“ My Investments</button>
  <button onclick="openPage('wallet')">ğŸ’³ Wallet</button>
  <button onclick="openPage('withdraw')">ğŸ’¸ Withdraw</button>
  <button onclick="openPage('live')">ğŸ’¹ Live Earnings</button>
  <button onclick="openPage('admin')">ğŸ›¡ Admin</button>
  <button onclick="openPage('team')">ğŸ‘¥ My Team</button>
  <button onclick="openPage('level')">ğŸ“Š My Level</button>
  <button onclick="openPage('calculator')">ğŸ“ˆ Calculator</button>
  <button onclick="openPage('settings')">âš™ï¸ Settings</button>
  <button onclick="logout()">ğŸ”’ Logout</button>
</div>

<div class="summary">
  <div class="box">ğŸ’° Total Invested<br><b id="totalInvested">$0.00</b></div>
  <div class="box">ğŸ“ˆ Daily Income<br><b id="dailyIncome">$0.00</b></div>
  <div class="box">âš¡ Live Earnings<br><b id="liveEarnings">$0.0000</b></div>
  <div class="box">ğŸ’³ Wallet Balance<br><b id="walletBalance">$0.00</b></div>
  <div class="box">ğŸ‘¥ Referral Link<br><input id="refLink" readonly style="width:100%;font-size:12px;text-align:center;"></div>
</div>

  <div style="background:#0f172a;margin:15px;padding:15px;border-radius:14px;">
  <h3 style="margin:0 0 10px;color:#38bdf8;">ğŸ“ˆ Earnings Growth</h3>
  <canvas id="earningsChart" height="120"></canvas>
</div>

<div class="tabs">
  <button class="active" onclick="filterNFT('all',this)">All</button>
  <button onclick="filterNFT('starter',this)">Starter</button>
  <button onclick="filterNFT('rising',this)">Rising</button>
  <button onclick="filterNFT('elite',this)">Elite</button>
  <button onclick="filterNFT('legendary',this)">Legendary</button>
</div>

<div id="nftGrid" class="grid"></div>

<div class="modal-bg" id="modalBg">
  <div class="modal" id="modal">
    <button class="close-modal" onclick="closeModal()">âœ–</button>
    <img id="modalImg">
    <h3 id="modalPrice"></h3>
    <p id="modalDaily"></p>
    <p id="modalDetails"></p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Referral
if(!localStorage.getItem("refCode")){
  localStorage.setItem("refCode","SNFT"+Math.floor(100000+Math.random()*900000));
}
refLink.value = location.origin + "/dashboard.html?ref=" + localStorage.getItem("refCode");
function copyRef(){navigator.clipboard.writeText(refLink.value);alert("Referral copied");}

// Side menu toggle
const menuBtn=document.getElementById("menuBtn");
const sideMenu=document.getElementById("sideMenu");
menuBtn.onclick=()=>{sideMenu.classList.toggle("active");}
document.addEventListener("click",e=>{if(!sideMenu.contains(e.target)&&!menuBtn.contains(e.target)){sideMenu.classList.remove("active");}});

// NFTs
const NFTS=[
{cat:"starter",price:10,p:0.2,img:"images/IMG_0458.png"},
{cat:"starter",price:15,p:0.3,img:"images/IMG_0459.png"},
{cat:"starter",price:20,p:0.4,img:"images/IMG_0460.png"},
{cat:"starter",price:25,p:0.5,img:"images/IMG_0461.png"},
{cat:"starter",price:30,p:0.6,img:"images/IMG_0462.png"},
{cat:"starter",price:35,p:0.7,img:"images/IMG_0463.png"},
{cat:"starter",price:40,p:0.8,img:"images/IMG_0464.png"},
{cat:"starter",price:45,p:0.9,img:"images/IMG_0465.png"},
{cat:"starter",price:50,p:1,img:"images/IMG_0466.png"},
{cat:"rising",price:55,p:1.3,img:"images/IMG_0467.png"},
{cat:"rising",price:60,p:1.5,img:"images/IMG_0468.png"},
{cat:"rising",price:65,p:1.63,img:"images/IMG_0469.png"},
{cat:"rising",price:70,p:1.75,img:"images/IMG_0470.png"},
{cat:"rising",price:75,p:1.88,img:"images/IMG_0471.png"},
{cat:"rising",price:80,p:2,img:"images/IMG_0472.png"},
{cat:"rising",price:90,p:2.25,img:"images/IMG_0473.png"},
{cat:"rising",price:100,p:2.5,img:"images/IMG_0474.png"},
{cat:"elite",price:150,p:5,img:"images/IMG_0475.png"},
{cat:"elite",price:200,p:6.6,img:"images/IMG_0476.png"},
{cat:"elite",price:250,p:8.25,img:"images/IMG_0477.png"},
{cat:"elite",price:300,p:10,img:"images/IMG_0478.png"},
{cat:"elite",price:350,p:11.6,img:"images/IMG_0479.png"},
{cat:"elite",price:400,p:13.3,img:"images/IMG_0480.png"},
{cat:"elite",price:450,p:15,img:"images/IMG_0481.png"},
{cat:"legendary",price:499,p:25,img:"images/IMG_0482.png"},
{cat:"legendary",price:599,p:30,img:"images/IMG_0483.png"},
{cat:"legendary",price:699,p:40,img:"images/IMG_0497.png"},
{cat:"legendary",price:799,p:30,img:"images/IMG_0498.png"},
{cat:"legendary",price:899,p:45,img:"images/IMG_0499.png"},
{cat:"legendary",price:999,p:100,img:"images/IMG_0503.png"},
];

// Render NFTs
function renderNFT(cat="all"){
  nftGrid.innerHTML="";
  NFTS.filter(n=>cat==="all"||n.cat===cat).forEach(n=>{
    const daily=(n.price*n.p)/100;
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`<img src="${n.img}"><div class="price">$${n.price}</div><div class="meta">Daily $${daily.toFixed(2)}</div>`;
    card.onclick=()=>openModal(n);
    nftGrid.appendChild(card);
  });
}
function filterNFT(cat,btn){
  document.querySelectorAll(".tabs button").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  renderNFT(cat);
}
renderNFT();

// Modal
const modalBg=document.getElementById("modalBg");
const modalImg=document.getElementById("modalImg");
const modalPrice=document.getElementById("modalPrice");
const modalDaily=document.getElementById("modalDaily");
const modalDetails=document.getElementById("modalDetails");
function openModal(n){
  modalImg.src=n.img;
  modalPrice.innerText="$"+n.price;
  modalDaily.innerText="Daily Income: $"+((n.price*n.p)/100).toFixed(2);
  modalDetails.innerText="Category: "+n.cat.toUpperCase()+" | ROI: 365 Days";
  modalBg.style.display="flex";
}
function closeModal(){modalBg.style.display="none";}

// Dashboard Summary
function updateSummary(){
  const data=JSON.parse(localStorage.getItem("myNFTs"))||[];
  let invested=0,daily=0;
  data.forEach(n=>{invested+=n.price;daily+=n.daily;});
  totalInvested.innerText="$"+invested.toFixed(2);
  dailyIncome.innerText="$"+daily.toFixed(2);
}
setInterval(updateSummary,1000);

// Live Earnings
function updateLive(){
  const data=JSON.parse(localStorage.getItem("myNFTs"))||[];
  let live=0;
  data.forEach(n=>{live+=((Date.now()-n.boughtAt)/1000)*(n.daily/86400);});
  liveEarnings.innerText="$"+live.toFixed(4);
}
setInterval(updateLive,1000);

// Dummy wallet
walletBalance.innerText="$0.00";

// Menu pages
function openPage(page){alert("Open page: "+page);sideMenu.classList.remove("active");}
function logout(){alert("Logging out");}

// Admin PIN prompt
if(sessionStorage.getItem("adminSession")==="active"){ /* show admin button logic */ }
</script>

<script>
/* ===============================
   AUTO DAILY EARNINGS SYSTEM
================================ */

/* INIT STORAGE */
if(!localStorage.getItem("lastCredit")){
  localStorage.setItem("lastCredit","0");
}

/* AUTO CREDIT FUNCTION */
function autoDailyCredit(){
  const now = Date.now();
  const last = Number(localStorage.getItem("lastCredit"));

  // 24 HOURS CHECK
  if(now - last < 86400000) return;

  const nfts = JSON.parse(localStorage.getItem("myNFTs")) || [];
  let wallet = Number(localStorage.getItem("walletBalance") || 0);
  const history = JSON.parse(localStorage.getItem("walletHistory")) || [];

  nfts.forEach(n=>{
    const daysPassed = Math.floor((now - n.boughtAt) / 86400000);

    // ROI EXPIRY 365 DAYS
    if(daysPassed < 365){
      wallet += Number(n.daily);

      history.push({
        type:"Daily ROI Credit",
        amount:Number(n.daily).toFixed(2),
        time:new Date().toLocaleString()
      });
    }
  });

  localStorage.setItem("walletBalance", wallet);
  localStorage.setItem("walletHistory", JSON.stringify(history));
  localStorage.setItem("lastCredit", now);
}

/* RUN ON LOAD */
autoDailyCredit();
</script>

  <script>
/* ===============================
   LEVEL INCOME SYSTEM
================================ */

/*
LEVEL STRUCTURE
Level 1 â†’ 5%
Level 2 â†’ 3%
Level 3 â†’ 2%
*/

const levelPercent = [0.05, 0.03, 0.02];

/* INIT STORAGE */
if(!localStorage.getItem("team")){
  localStorage.setItem("team", JSON.stringify([]));
}
if(!localStorage.getItem("levelIncome")){
  localStorage.setItem("levelIncome","0");
}

/* ADD TEAM MEMBER (ON SIGNUP) */
function addReferral(userId){
  const team = JSON.parse(localStorage.getItem("team"));
  team.push({
    id:userId,
    joinedAt:Date.now()
  });
  localStorage.setItem("team", JSON.stringify(team));
}

/* LEVEL INCOME CREDIT */
function creditLevelIncome(amount){
  const team = JSON.parse(localStorage.getItem("team"));
  let wallet = Number(localStorage.getItem("walletBalance") || 0);
  let levelIncome = Number(localStorage.getItem("levelIncome") || 0);
  const history = JSON.parse(localStorage.getItem("walletHistory")) || [];

  team.forEach((member,index)=>{
    if(index < 3){
      const income = amount * levelPercent[index];
      wallet += income;
      levelIncome += income;

      history.push({
        type:`Level ${index+1} Income`,
        amount: income.toFixed(2),
        time: new Date().toLocaleString()
      });
    }
  });

  localStorage.setItem("walletBalance", wallet);
  localStorage.setItem("levelIncome", levelIncome);
  localStorage.setItem("walletHistory", JSON.stringify(history));
}

/* CALL THIS WHEN USER BUYS NFT */
// creditLevelIncome(100); // example
</script>

  <script>
/* ===============================
   EARNINGS GRAPH SYSTEM
================================ */

const ctx = document.getElementById("earningsChart").getContext("2d");

function getChartData(){
  const data = JSON.parse(localStorage.getItem("myNFTs")) || [];
  let labels = [];
  let values = [];
  let total = 0;

  data.forEach((n,i)=>{
    total += n.daily;
    labels.push("NFT " + (i+1));
    values.push(total.toFixed(2));
  });

  return {labels, values};
}

let chartData = getChartData();

const earningsChart = new Chart(ctx,{
  type:"line",
  data:{
    labels: chartData.labels,
    datasets:[{
      label:"Total Earnings ($)",
      data: chartData.values,
      borderColor:"#38bdf8",
      backgroundColor:"rgba(56,189,248,0.2)",
      tension:0.4,
      fill:true
    }]
  },
  options:{
    responsive:true,
    plugins:{
      legend:{display:false}
    },
    scales:{
      x:{ticks:{color:"#94a3b8"}},
      y:{ticks:{color:"#94a3b8"}}
    }
  }
});

/* AUTO UPDATE */
setInterval(()=>{
  const newData = getChartData();
  earningsChart.data.labels = newData.labels;
  earningsChart.data.datasets[0].data = newData.values;
  earningsChart.update();
},3000);
</script>
  
</body>
</html>
