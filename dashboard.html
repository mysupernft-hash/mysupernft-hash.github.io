<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SuperNFT Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial,sans-serif;background:#0f0f0f;color:#FFD700}

/* HEADER */
header{position:sticky;top:0;z-index:1000;background:#1a1a1a;padding:12px 20px;display:flex;justify-content:space-between;align-items:center}
header h1{margin:0;font-size:22px}
header span{font-size:26px;cursor:pointer}

/* SIDEBAR */
#sidebar{position:fixed;left:0;top:0;width:220px;height:100%;background:#1a1a1a;padding:20px;overflow:auto}
#sidebar h2{margin:0 0 15px}
#sidebar button{width:100%;background:none;border:none;color:#FFD700;padding:10px;text-align:left;font-size:15px;cursor:pointer}
#sidebar button:hover{background:#272727}

/* CONTENT */
.content{margin-left:240px;padding:20px}

/* STATS 2x2 */
.stats{display:grid;grid-template-columns:repeat(2,1fr);gap:15px}
.stat-box{background:#1a1a1a;padding:20px;border-radius:12px;text-align:center;cursor:pointer}
.stat-box:hover{background:#272727}
.stat-box h3{margin:0 0 8px;font-size:15px}
.stat-box p{margin:0;font-size:20px;font-weight:bold}

/* NFT GRID 2 LAYOUT */
.nft-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;margin-top:20px}
.nft{background:#1a1a1a;border-radius:12px;padding:10px;text-align:center}
.nft img{width:100%;border-radius:8px;cursor:pointer}
.nft p{margin:4px 0;font-size:14px}
.nft button{margin-top:6px;background:#FFD700;border:none;padding:8px 12px;border-radius:6px;font-weight:bold;cursor:pointer}
.nft button:hover{background:#e0c200}

/* REFERRAL */
.referral{margin-top:25px;background:#1a1a1a;padding:15px;border-radius:10px}

/* CHART */
canvas{background:#1a1a1a;border-radius:12px;padding:10px;margin-top:20px}

/* MOBILE */
@media(max-width:768px){
#sidebar{position:relative;width:100%;height:auto}
.content{margin-left:0}
.stats,.nft-grid{grid-template-columns:1fr}
}
</style>
</head>

<body>

<header>
<span>â˜°</span>
<h1>SuperNFT Dashboard</h1>
<div id="walletBalanceTop">$0</div>
</header>

<!-- SIDEBAR -->
<div id="sidebar">
<h2>Menu</h2>
<button onclick="openPage('account')">ğŸ‘¤ My Account</button>
<button onclick="openPage('investments')">ğŸ“ My Investments</button>
<button onclick="openPage('wallet')">ğŸ’³ Wallet</button>
<button onclick="openPage('withdraw')">ğŸ’¸ Withdraw</button>
<button onclick="openPage('live')">ğŸ’¹ Live Earnings</button>
<button onclick="openPage('admin')">ğŸ›¡ Admin</button>
<button onclick="openPage('team')">ğŸ‘¥ My Team</button>
<button onclick="openPage('level')">ğŸ“Š My Level</button>
<button onclick="openPage('calculator')">ğŸ“ˆ Calculator</button>
<button onclick="openPage('settings')">âš™ï¸ Settings</button>
<button onclick="logout()">ğŸ”’ Logout</button>
</div>

<div class="content">

<!-- STATS -->
<div class="stats">
<div class="stat-box" id="dailyIncomeBox"><h3>Daily Income</h3><p id="dailyIncome">$0</p></div>
<div class="stat-box" id="liveEarningsBox"><h3>Live Earnings</h3><p id="liveEarnings">$0</p></div>
<div class="stat-box" id="depositMoney"><h3>Total Deposit</h3><p>$0</p></div>
<div class="stat-box" id="walletBalance"><h3>Wallet Balance</h3><p id="walletBalanceP">$0</p></div>
</div>

<!-- NFT GRID -->
<h2 style="margin-top:25px">NFT Marketplace</h2>
<div class="nft-grid" id="nfts"></div>

<!-- REFERRAL -->
<div class="referral">
<p>Referral Code: <b id="myCode">N/A</b></p>
<button id="copyBtn">Copy</button>
<button id="shareBtn">Share</button>
</div>

<!-- CHART -->
<canvas id="earningsChart" height="160"></canvas>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { getFirestore, doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig={
apiKey:"AIzaSyB4SGtNZL0N4TIoJ1bGbkiAeRWJcQgrF-4",
authDomain:"supernft-5b952.firebaseapp.com",
projectId:"supernft-5b952",
storageBucket:"supernft-5b952.appspot.com",
messagingSenderId:"278097730700",
appId:"1:278097730700:web:6ba9892334456fd8512fa9"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getFirestore(app);

/* 30 NFTs */
const NFTS=[
{cat:"starter",price:10,p:0.2,img:"images/IMG_0458.png"},
{cat:"starter",price:15,p:0.3,img:"images/IMG_0459.png"},
{cat:"starter",price:20,p:0.4,img:"images/IMG_0460.png"},
{cat:"starter",price:25,p:0.5,img:"images/IMG_0461.png"},
{cat:"starter",price:30,p:0.6,img:"images/IMG_0462.png"},
{cat:"starter",price:35,p:0.7,img:"images/IMG_0463.png"},
{cat:"starter",price:40,p:0.8,img:"images/IMG_0464.png"},
{cat:"starter",price:45,p:0.9,img:"images/IMG_0465.png"},
{cat:"starter",price:50,p:1,img:"images/IMG_0466.png"},
{cat:"rising",price:55,p:1.3,img:"images/IMG_0467.png"},
{cat:"rising",price:60,p:1.5,img:"images/IMG_0468.png"},
{cat:"rising",price:65,p:1.63,img:"images/IMG_0469.png"},
{cat:"rising",price:70,p:1.75,img:"images/IMG_0470.png"},
{cat:"rising",price:75,p:1.88,img:"images/IMG_0471.png"},
{cat:"rising",price:80,p:2,img:"images/IMG_0472.png"},
{cat:"rising",price:90,p:2.25,img:"images/IMG_0473.png"},
{cat:"rising",price:100,p:2.5,img:"images/IMG_0474.png"},
{cat:"elite",price:150,p:5,img:"images/IMG_0475.png"},
{cat:"elite",price:200,p:6.6,img:"images/IMG_0476.png"},
{cat:"elite",price:250,p:8.25,img:"images/IMG_0477.png"},
{cat:"elite",price:300,p:10,img:"images/IMG_0478.png"},
{cat:"elite",price:350,p:11.6,img:"images/IMG_0479.png"},
{cat:"elite",price:400,p:13.3,img:"images/IMG_0480.png"},
{cat:"elite",price:450,p:15,img:"images/IMG_0481.png"},
{cat:"legendary",price:499,p:25,img:"images/IMG_0482.png"},
{cat:"legendary",price:599,p:30,img:"images/IMG_0483.png"},
{cat:"legendary",price:699,p:40,img:"images/IMG_0497.png"},
{cat:"legendary",price:799,p:30,img:"images/IMG_0498.png"},
{cat:"legendary",price:899,p:45,img:"images/IMG_0499.png"},
{cat:"legendary",price:999,p:100,img:"images/IMG_0503.png"}
];

const box=document.getElementById("nfts");
NFTS.forEach(n=>{
box.innerHTML+=`
<div class="nft">
<img src="${n.img}" onclick="buy(${n.price})">
<p>Price $${n.price}</p>
<p>Daily $${n.p}</p>
<button onclick="buy(${n.price})">Buy NFT</button>
</div>`;
});

window.buy=p=>{
localStorage.setItem("price",p);
location.href="nft-details.html";
};

/* FIREBASE DATA */
onAuthStateChanged(auth,async user=>{
if(!user)location.href="login.html";
const snap=await getDoc(doc(db,"users",user.uid));
if(snap.exists()){
const d=snap.data();
dailyIncome.innerText="$"+(d.dailyIncome||0);
liveEarnings.innerText="$"+(d.liveEarnings||0);
depositMoney.querySelector("p").innerText="$"+(d.totalDeposit||0);
walletBalanceP.innerText="$"+(d.walletBalance||0);
walletBalanceTop.innerText="$"+(d.walletBalance||0);
myCode.innerText=d.myReferralCode||"N/A";
}
});

/* CHART */
new Chart(document.getElementById("earningsChart"),{
type:"line",
data:{labels:["D1","D2","D3","D4","D5","D6","D7"],
datasets:[{data:[2,5,8,12,18,25,32],borderColor:"#FFD700",fill:false}]},
options:{plugins:{legend:{display:false}}}
});

copyBtn.onclick=()=>navigator.clipboard.writeText(myCode.innerText);
shareBtn.onclick=()=>window.open(`https://api.whatsapp.com/send?text=Join SuperNFT with code ${myCode.innerText}`);

window.openPage=p=>alert(p+" page");
window.logout=()=>signOut(auth).then(()=>location.href="login.html");
</script>

</body>
</html>
