<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SuperNFT Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ---------- GENERAL ---------- */
body{
  margin:0;font-family:Arial,sans-serif;background:#020617;color:white;
  overflow-x:hidden;
}
header{
  position:sticky;top:0;background:#020617;padding:12px 20px;font-size:22px;color:#38bdf8;font-weight:bold;z-index:1000;border-bottom:1px solid #1e293b;
  display:flex;justify-content:space-between;align-items:center;
}
header .summary{display:flex;gap:12px;flex-wrap:wrap;font-size:14px;}
header .summary div{background:#0f172a;padding:6px 12px;border-radius:8px;}
.menu-btn{font-size:22px;cursor:pointer;padding:6px 12px;}

/* ---------- SIDEBAR MENU ---------- */
#sidebar{
  position:fixed;top:0;left:-250px;width:250px;height:100%;background:#0f172a;z-index:9999;
  padding:20px;transition:0.3s;overflow-y:auto;
}
#sidebar.active{left:0;}
#sidebar a{display:block;color:#38bdf8;text-decoration:none;padding:10px 0;font-weight:bold;border-bottom:1px solid #1e293b;}
#sidebar a:hover{color:#00e5ff;}
#overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:none;z-index:900;}

/* ---------- NFT GRID ---------- */
.tabs{display:flex;gap:10px;padding:10px;overflow-x:auto;margin:15px;}
.tabs button{padding:8px 14px;border-radius:20px;border:1px solid #38bdf8;background:#0f172a;color:#38bdf8;}
.tabs button.active{background:#38bdf8;color:#020617;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:15px;padding:15px;}
.card{background:#0f172a;border-radius:14px;padding:10px;text-align:center;transition:.2s;cursor:pointer;}
.card:hover{transform:scale(1.03);}
.card img{width:100%;border-radius:10px;}
.card .price{color:#38bdf8;font-weight:bold;margin:6px 0;}
.card .meta{font-size:12px;color:#cbd5f5;line-height:1.4;}
.card button{margin-top:6px;width:100%;padding:6px;border:none;border-radius:6px;background:#38bdf8;color:#020617;font-weight:bold;cursor:pointer;}

/* ---------- MODALS ---------- */
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:99999;justify-content:center;align-items:center;}
.modal-content{background:#020617;padding:20px;border-radius:14px;width:90%;max-width:420px;color:white;position:relative;}
.modal-content h3{margin:0 0 10px 0;color:#38bdf8;}
.modal-content button.close{position:absolute;top:10px;right:12px;background:none;border:none;color:#38bdf8;font-size:22px;cursor:pointer;}

/* ---------- REF, WALLET ---------- */
.ref-box,input{width:100%;padding:6px;margin-top:6px;border-radius:6px;border:none;background:#1e293b;color:white;}

/* ---------- CHART ---------- */
#earnChart{width:100%;max-width:450px;margin:20px auto;}
</style>
</head>

<body>

<header>
  <div class="menu-btn" onclick="openMenu()">â˜°</div>
  <div>SuperNFT Dashboard</div>
  <div class="summary">
    <div>ğŸ’° Total Invested: <span id="totalInvested">$0</span></div>
    <div>ğŸ“ˆ Daily Income: <span id="dailyIncome">$0</span></div>
    <div>âš¡ Live Earnings: <span id="liveEarnings">$0</span></div>
    <div>ğŸ’³ Wallet: <span id="walletBalance">$0</span></div>
  </div>
</header>

<!-- SIDEBAR MENU -->
<div id="sidebar">
  <a href="account.html">ğŸ‘¤ My Account</a>
  <a href="my-investments.html">ğŸ“ My Investments</a>
  <a href="wallet.html">ğŸ’³ Wallet</a>
  <a href="withdraw.html">ğŸ’¸ Withdraw</a>
  <a href="#" onclick="openModal('liveEarningsModal')">ğŸ’¹ Live Earnings</a>
  <a href="#" id="adminBtn" style="display:none" onclick="adminLogin()">ğŸ›¡ Admin</a>
  <a href="my-team.html">ğŸ‘¥ My Team</a>
  <a href="my-level.html">ğŸ“Š My Level</a>
  <a href="calculator.html">ğŸ“ˆ Calculator</a>
  <a href="settings.html">âš™ï¸ Settings</a>
  <a href="#" onclick="logout()">ğŸ”’ Logout</a>
</div>
<div id="overlay" onclick="closeMenu()"></div>

<!-- TABS -->
<div class="tabs">
  <button class="active" onclick="filterNFT('all',this)">All</button>
  <button onclick="filterNFT('starter',this)">Starter</button>
  <button onclick="filterNFT('rising',this)">Rising</button>
  <button onclick="filterNFT('elite',this)">Elite</button>
  <button onclick="filterNFT('legendary',this)">Legendary</button>
</div>

<!-- NFT GRID -->
<div id="nftGrid" class="grid"></div>

<!-- NFT DETAIL MODAL -->
<div class="modal" id="nftModal">
  <div class="modal-content">
    <button class="close" onclick="closeModal('nftModal')">âœ–</button>
    <img id="modalImg" src="" style="width:100%;border-radius:10px">
    <h3 id="modalPrice">$0</h3>
    <p id="modalDaily">Daily: $0</p>
    <p id="modalValidity">Validity: 365 days</p>
    <button onclick="buyNFTModal()">Buy NFT</button>
  </div>
</div>

<!-- LIVE EARNINGS MODAL -->
<div class="modal" id="liveEarningsModal">
  <div class="modal-content">
    <button class="close" onclick="closeModal('liveEarningsModal')">âœ–</button>
    <canvas id="earnChart"></canvas>
  </div>
</div>

<script>
/* ---------- MENU ---------- */
function openMenu(){document.getElementById("sidebar").classList.add("active");document.getElementById("overlay").style.display="block";}
function closeMenu(){document.getElementById("sidebar").classList.remove("active");document.getElementById("overlay").style.display="none";}
document.addEventListener('click',function(e){if(!document.getElementById("sidebar").contains(e.target) && !e.target.classList.contains("menu-btn")){closeMenu();}})

/* ---------- REFERRAL ---------- */
if(!localStorage.getItem("refCode")){localStorage.setItem("refCode","SNFT"+Math.floor(100000+Math.random()*900000));}

/* ---------- NFTs ---------- */
const NFTS=[
{cat:"starter",price:10,daily:0.2,img:"images/IMG_0458.png"},
{cat:"starter",price:15,daily:0.3,img:"images/IMG_0459.png"},
{cat:"starter",price:20,daily:0.4,img:"images/IMG_0460.png"},
{cat:"starter",price:25,daily:0.5,img:"images/IMG_0461.png"},
{cat:"starter",price:30,daily:0.6,img:"images/IMG_0462.png"},
{cat:"starter",price:35,daily:0.7,img:"images/IMG_0463.png"},
{cat:"starter",price:40,daily:0.8,img:"images/IMG_0464.png"},
{cat:"starter",price:45,daily:0.9,img:"images/IMG_0465.png"},
{cat:"starter",price:50,daily:1,img:"images/IMG_0466.png"},
{cat:"rising",price:55,daily:1.3,img:"images/IMG_0467.png"},
{cat:"rising",price:60,daily:1.5,img:"images/IMG_0468.png"},
{cat:"rising",price:65,daily:1.63,img:"images/IMG_0469.png"},
{cat:"rising",price:70,daily:1.75,img:"images/IMG_0470.png"},
{cat:"rising",price:75,daily:1.88,img:"images/IMG_0471.png"},
{cat:"rising",price:80,daily:2,img:"images/IMG_0472.png"},
{cat:"rising",price:90,daily:2.25,img:"images/IMG_0473.png"},
{cat:"rising",price:100,daily:2.5,img:"images/IMG_0474.png"},
{cat:"elite",price:150,daily:5,img:"images/IMG_0475.png"},
{cat:"elite",price:200,daily:6.6,img:"images/IMG_0476.png"},
{cat:"elite",price:250,daily:8.25,img:"images/IMG_0477.png"},
{cat:"elite",price:300,daily:10,img:"images/IMG_0478.png"},
{cat:"elite",price:350,daily:11.6,img:"images/IMG_0479.png"},
{cat:"elite",price:400,daily:13.3,img:"images/IMG_0480.png"},
{cat:"elite",price:450,daily:15,img:"images/IMG_0481.png"},
{cat:"legendary",price:499,daily:25,img:"images/IMG_0482.png"},
{cat:"legendary",price:599,daily:30,img:"images/IMG_0483.png"},
{cat:"legendary",price:699,daily:40,img:"images/IMG_0497.png"},
{cat:"legendary",price:799,daily:30,img:"images/IMG_0498.png"},
{cat:"legendary",price:899,daily:45,img:"images/IMG_0499.png"},
{cat:"legendary",price:999,daily:100,img:"images/IMG_0503.png"}
];
let currentNFT=null;

function renderNFT(cat="all"){
  const grid=document.getElementById("nftGrid");grid.innerHTML="";
  NFTS.filter(n=>cat==="all"||n.cat===cat).forEach(n=>{
    const daily=n.daily;
    const card=document.createElement("div");card.className="card";
    card.innerHTML=`<img src="${n.img}"><div class="price">$${n.price}</div><div class="meta">Daily $${daily}</div><button onclick="openNFTModal('${n.img}',${n.price},${daily})">Buy</button>`;
    grid.appendChild(card);
  });
}
renderNFT();

function filterNFT(cat,btn){document.querySelectorAll(".tabs button").forEach(b=>b.classList.remove("active"));btn.classList.add("active");renderNFT(cat);}

/* ---------- NFT MODAL ---------- */
function openNFTModal(img,price,daily){
  currentNFT={img,price,daily};
  document.getElementById("modalImg").src=img;
  document.getElementById("modalPrice").innerText="$"+price;
  document.getElementById("modalDaily").innerText="Daily: $"+daily;
  document.getElementById("nftModal").style.display="flex";
}
function closeModal(id){document.getElementById(id).style.display="none";}
function buyNFTModal(){if(currentNFT){buyNFT(currentNFT.price,currentNFT.daily);closeModal("nftModal");}}

/* ---------- BUY ---------- */
function buyNFT(price,daily){const data=JSON.parse(localStorage.getItem("myNFTs"))||[];data.push({price,daily,boughtAt:Date.now()});localStorage.setItem("myNFTs",JSON.stringify(data));alert("NFT Purchased");updateSummary();}

/* ---------- SUMMARY ---------- */
function updateSummary(){
  const data=JSON.parse(localStorage.getItem("myNFTs"))||[];
  let invested=0,daily=0,live=0;
  data.forEach(n=>{invested+=n.price;daily+=n.daily;live+=((Date.now()-n.boughtAt)/1000)*(n.daily/86400);});
  document.getElementById("totalInvested").innerText="$"+invested.toFixed(2);
  document.getElementById("dailyIncome").innerText="$"+daily.toFixed(2);
  document.getElementById("liveEarnings").innerText="$"+live.toFixed(4);
  document.getElementById("walletBalance").innerText="$"+(invested+live).toFixed(2);
}
setInterval(updateSummary,1000);

/* ---------- ADMIN ---------- */
function adminLogin(){let pin=prompt("Enter Admin PIN:");if(pin==="1008"){sessionStorage.setItem("adminSession","active");alert("Admin Access Granted");document.getElementById("adminBtn").style.display="inline-block";}else{alert("Wrong PIN");}}

/* ---------- LOGOUT ---------- */
function logout(){localStorage.clear();sessionStorage.clear();alert("Logged out");location.reload();}

/* ---------- LIVE EARNINGS CHART ---------- */
const ctx=document.getElementById("earnChart").getContext("2d");
const earnChart=new Chart(ctx,{type:"line",data:{labels:["Day1","Day2","Day3","Day4","Day5"],datasets:[{label:"Earnings",$borderColor:"#38bdf8",data:[0,0,0,0,0],fill:false}]},options:{responsive:true}});
setInterval(()=>{const data=JSON.parse(localStorage.getItem("myNFTs"))||[];let total=0;data.forEach(n=>{total+=((Date.now()-n.boughtAt)/1000)*(n.daily/86400);});earnChart.data.datasets[0].data.push(total);if(earnChart.data.datasets[0].data.length>30){earnChart.data.datasets[0].data.shift();}earnChart.update();},5000);

</script>

</body>
</html>
