<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SuperNFT Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon.ico">
<style>
body{margin:0;font-family:Arial;background:#020617;color:#fff}
header{background:#0a192f;padding:15px;display:flex;justify-content:space-between;align-items:center}
.logo{font-size:22px;color:#38bdf8;font-weight:bold}
.menu-btn{font-size:24px;cursor:pointer}

#sidebar{
  position:fixed;top:0;left:-270px;width:260px;height:100%;
  background:#0f172a;padding:20px;transition:.3s;z-index:999
}
#sidebar a{
  display:block;color:#38bdf8;text-decoration:none;
  padding:10px 0;border-bottom:1px solid #1e293b
}
#sidebar a:hover{color:#00e5ff}

.summary{
  display:grid;grid-template-columns:1fr 1fr;
  gap:12px;padding:15px
}
.box{
  background:#0f172a;padding:15px;border-radius:14px;
  text-align:center
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(170px,1fr));
  gap:15px;padding:15px
}
.card{
  background:#0f172a;border-radius:14px;
  padding:10px;text-align:center
}
.card img{
  width:100%;border-radius:10px;cursor:pointer
}
.card button{
  width:100%;margin-top:8px;padding:8px;
  border:none;border-radius:8px;
  background:#38bdf8;font-weight:bold;cursor:pointer
}
small{color:#94a3b8}

footer{
  text-align:center;padding:20px;
  color:#94a3b8;font-size:14px
}
footer a{color:#38bdf8;text-decoration:none;margin:0 5px}
</style>
</head>

<body>

<!-- HEADER -->
<header>
  <div class="menu-btn" onclick="toggleMenu()">â˜°</div>
  <div class="logo">SuperNFT Dashboard</div>
  <div id="topWallet">$0.00</div>
</header>

<!-- SIDEBAR -->
<div id="sidebar">
  <a href="dashboard.html">ğŸ  Dashboard</a>
  <a href="deposit.html">ğŸ’µ Deposit</a>
  <a href="wallet.html">ğŸ’³ Wallet</a>
  <a href="withdraw.html">ğŸ’¸ Withdraw</a>
  <a href="my-investments.html">ğŸ“ My NFTs</a>
  <a href="live-earnings.html">ğŸ’¹ Live Earnings</a>
  <a href="my-team.html">ğŸ‘¥ My Team</a>
  <a href="my-level.html">ğŸ“Š My Level</a>
  <a href="calculator.html">ğŸ“ˆ Calculator</a>
  <a href="contact.html">ğŸ“¨ Contact</a>
  <a href="admin/admin-login.html">ğŸ›  Admin</a>
  <a href="#" onclick="logout()">ğŸ”’ Logout</a>
</div>

<!-- SUMMARY -->
<div class="summary">
  <div class="box">Total Invested<br><b id="invested">$0.00</b></div>
  <div class="box">Daily Income<br><b id="daily">$0.00</b></div>
  <div class="box">Live Earnings<br><b id="live">$0.00</b></div>
  <div class="box">Wallet Balance<br><b id="wallet">$0.00</b></div>
</div>

<!-- NFT GRID -->
<div class="grid" id="nftGrid"></div>

<footer>
<a href="terms.html">Terms</a> |
<a href="privacy.html">Privacy</a> |
<a href="contact.html">Contact Us</a>
</footer>

<script>
/* ---------- LOGIN PROTECTION ---------- */
if(!localStorage.getItem("loggedIn")){
  location.href="index.html";
}

/* ---------- MENU ---------- */
function toggleMenu(){
  let s=document.getElementById("sidebar");
  s.style.left = s.style.left==="0px" ? "-270px" : "0px";
}
function logout(){
  localStorage.clear();
  location.href="index.html";
}

/* ---------- STORAGE INIT ---------- */
if(!localStorage.getItem("wallet")) localStorage.setItem("wallet","0");
if(!localStorage.getItem("myNFTs")) localStorage.setItem("myNFTs","[]");

/* ---------- NFT DATA (30) ---------- */
const NFTS=[
10,15,20,25,30,35,40,45,50,
55,60,65,70,75,80,90,100,
150,200,250,300,350,400,450,
499,599,699,799,899,999
];

const grid=document.getElementById("nftGrid");

NFTS.forEach(price=>{
  let percent = price<=50?2:price<=100?2.5:price<=450?3.5:7;
  let daily=(price*percent/100).toFixed(2);

  grid.innerHTML+=`
  <div class="card">
    <img src="images/nft.png" onclick="openNFT(${price},${percent})">
    <b>Invest - $${price}</b><br>
    <small>Income - $${daily}</small><br>
    <small>Profit - ${percent}%</small>
    <button onclick="buyNFT(${price},${percent})">Buy NFT</button>
  </div>`;
});

/* ---------- NFT ACTIONS ---------- */
function openNFT(price,p){
  location.href=`nft-details.html?price=${price}&p=${p}`;
}

function buyNFT(price,p){
  let wallet=parseFloat(localStorage.getItem("wallet"));
  if(wallet<price){
    alert("âŒ Insufficient Wallet Balance");
    return;
  }
  wallet-=price;
  localStorage.setItem("wallet",wallet);

  let nfts=JSON.parse(localStorage.getItem("myNFTs"));
  nfts.push({price,p,earned:0,max:price*0.5});
  localStorage.setItem("myNFTs",JSON.stringify(nfts));

  alert("âœ… NFT Purchased Successfully");
  update();
}

/* ---------- LIVE CALCULATION ---------- */
function update(){
  let wallet=parseFloat(localStorage.getItem("wallet"));
  let nfts=JSON.parse(localStorage.getItem("myNFTs"));
  let invested=0,live=0,daily=0;

  nfts.forEach(n=>{
    invested+=n.price;
    let d=n.price*(n.p/100);
    daily+=d;
    if(n.earned<n.max){
      n.earned+=d/24;
      if(n.earned>n.max) n.earned=n.max;
    }
    live+=n.earned;
  });

  localStorage.setItem("myNFTs",JSON.stringify(nfts));

  document.getElementById("invested").innerText="$"+invested.toFixed(2);
  document.getElementById("daily").innerText="$"+daily.toFixed(2);
  document.getElementById("live").innerText="$"+live.toFixed(2);
  document.getElementById("wallet").innerText="$"+wallet.toFixed(2);
  document.getElementById("topWallet").innerText="$"+wallet.toFixed(2);
}

setInterval(update,1000);
</script>

</body>
</html>
