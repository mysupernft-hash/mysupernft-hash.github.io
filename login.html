<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login - SuperNFT</title>
</head>
<body>
<h2>Login</h2>
<input type="email" id="email" placeholder="Enter Email"><br><br>
<input type="password" id="password" placeholder="Enter Password"><br><br>
<button onclick="loginUser()">Login</button>

<script>
function loginUser() {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if(!email || !password) {
        alert("Enter both email and password");
        return;
    }

    const users = JSON.parse(localStorage.getItem("users")) || [];
    const user = users.find(u => u.email === email);

    if(!user) {
        alert("User not found. Signup first!");
        return;
    }

    if(user.password !== password) {
        alert("Wrong password!");
        return;
    }

    if(!user.verified) {
        alert("Email not verified! Check console for verification link.");
        return;
    }

    // Save logged in user
    localStorage.setItem("loggedInUser", email);
    alert("Login successful!");
    window.location.href = "dashboard.html"; // redirect to dashboard
}
</script>
</body>
</html>
