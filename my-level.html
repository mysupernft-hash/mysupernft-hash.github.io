<!-- my-level.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Level â€“ SuperNFT</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="styles.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{margin:0;font-family:Arial;background:#020617;color:#fff}
header{position:fixed;top:0;left:0;right:0;background:#020617;border-bottom:1px solid #1e293b;padding:14px;text-align:center;color:#38bdf8;font-weight:bold;z-index:10}
.main{padding:80px 15px}
.back{color:#38bdf8;text-decoration:none;display:inline-block;margin-bottom:10px}
.box{background:#0f172a;padding:12px;border-radius:12px;margin-bottom:10px}
.box h3{color:#38bdf8;margin:0 0 6px 0}
</style>
</head>
<body>
<header>ðŸ“Š My Level & Earnings</header>
<div class="main">
<a class="back" href="dashboard.html">â¬… Back to Dashboard</a>

<div class="box">
<h3>Level Info</h3>
<p>Current Level: <span id="currentLevel">1</span></p>
<p>Total Earnings: $<span id="totalEarnings">0</span></p>
<p>Referral Bonus: $<span id="refBonus">0</span></p>
</div>

<div class="box">
<h3>Earnings Graph</h3>
<canvas id="earningsChart" width="100%" height="50"></canvas>
</div>

<div class="box">
<h3>Settings</h3>
<label>Change PIN: <input type="password" id="newPin" placeholder="Enter new PIN"></label><br><br>
<button onclick="updatePin()">Update PIN</button>
</div>
</div>

<script>
// Sample user data
let userData = JSON.parse(localStorage.getItem("userData")) || {
  level:1,
  earnings:120,
  referralBonus:35
};

document.getElementById("currentLevel").innerText = userData.level;
document.getElementById("totalEarnings").innerText = userData.earnings.toFixed(2);
document.getElementById("refBonus").innerText = userData.referralBonus.toFixed(2);

// Chart.js Graph
const ctx = document.getElementById('earningsChart').getContext('2d');
const earningsChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: ['Day 1','Day 2','Day 3','Day 4','Day 5','Day 6','Day 7'],
        datasets: [{
            label: 'Daily Earnings',
            data: [5,10,7,12,15,8,20],
            borderColor: '#00e5ff',
            backgroundColor: 'rgba(0,229,255,0.2)',
            tension:0.3,
            fill:true
        }]
    },
    options: {
        responsive:true,
        plugins:{legend:{labels:{color:'#38bdf8'}}},
        scales:{
          x:{ticks:{color:'#38bdf8'}},
          y:{ticks:{color:'#38bdf8'}}
        }
    }
});

// Settings update
function updatePin(){
  const pin = document.getElementById("newPin").value;
  if(pin.length<4){ alert("PIN must be 4 digits"); return; }
  localStorage.setItem("userPIN", pin);
  alert("PIN updated successfully!");
  document.getElementById("newPin").value="";
}
</script>
</body>
</html>
