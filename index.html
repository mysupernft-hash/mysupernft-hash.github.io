<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SuperNFT Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{background:#020617;color:white;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;}
.login-box{background:#0a192f;padding:30px;border-radius:12px;width:300px;text-align:center;}
.login-box input{width:90%;padding:8px;margin:10px 0;border-radius:6px;border:none;}
.login-box button{padding:8px 16px;border:none;border-radius:6px;background:#38bdf8;color:#020617;font-weight:bold;cursor:pointer;}
#errorMsg{color:#ff6b6b;margin:5px;}
a{color:#38bdf8;text-decoration:none;font-size:14px;}
</style>
</head>
<body>

<div class="login-box">
  <h2>Login</h2>
  <input type="text" id="loginUser" placeholder="Username"><br>
  <input type="password" id="loginPass" placeholder="Password"><br>
  <button onclick="login()">Login</button>
  <div id="errorMsg"></div>
  <p>Don't have account? <a href="#" onclick="showSignup()">Signup</a></p>
</div>

<script>
// --------- Predefined user ---------
if(!localStorage.getItem('users')){
  let defaultUsers = {"Shivam":"poiuytrewq"}; // username: Shivam, password: poiuytrewq
  localStorage.setItem('users', JSON.stringify(defaultUsers));
}

// --------- Show signup (simple alert for now) ---------
function showSignup(){
  let username = prompt("Enter new username:");
  let password = prompt("Enter new password:");
  if(username && password){
    let users = JSON.parse(localStorage.getItem('users')||'{}');
    users[username] = password;
    localStorage.setItem('users', JSON.stringify(users));
    alert("Signup successful! You can now login.");
  }
}

// --------- Login function ---------
function login(){
  let user = document.getElementById('loginUser').value.trim();
  let pass = document.getElementById('loginPass').value.trim();
  let users = JSON.parse(localStorage.getItem('users')||'{}');

  if(users[user] && users[user] === pass){
    localStorage.setItem('loggedInUser', user);
    window.location.href='dashboard.html'; // go to dashboard
  } else {
    document.getElementById('errorMsg').innerText="Wrong username or password!";
  }
}

// --------- Prevent access to dashboard if not logged in ---------
if(window.location.pathname.includes("dashboard.html")){
  if(!localStorage.getItem('loggedInUser')){
    window.location.href="index.html";
  }
}
</script>

</body>
</html>
