<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Investments</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#020617;
  color:white;
}
header{
  text-align:center;
  padding:15px;
  font-size:22px;
  color:#38bdf8;
  border-bottom:1px solid #1e293b;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:15px;
  padding:15px;
}
.card{
  background:#0f172a;
  border-radius:14px;
  padding:10px;
  text-align:center;
}
.card img{
  width:100%;
  border-radius:10px;
}
.price{
  color:#38bdf8;
  font-weight:bold;
  margin:6px 0;
}
.meta{
  font-size:12px;
  color:#cbd5f5;
  line-height:1.5;
}

/* Calculator */
.calc{
  background:#020617;
  border:1px solid #38bdf8;
  border-radius:12px;
  padding:12px;
  margin:15px;
}
.calc h3{
  margin-top:0;
  color:#38bdf8;
  text-align:center;
}
.calc input{
  width:100%;
  padding:10px;
  margin:8px 0;
  border-radius:8px;
  border:none;
}
.calc button{
  width:100%;
  padding:10px;
  border:none;
  border-radius:8px;
  background:#38bdf8;
  font-weight:bold;
}
.calc .result{
  margin-top:10px;
  color:#38bdf8;
  text-align:center;
  font-weight:bold;
}
</style>
</head>

<body>

<header>üìÅ My Investments</header>

<!-- LIVE EARNINGS -->
<div class="calc">
  <h3>üìà Live Earnings</h3>
  <div id="liveEarning" class="result">$0.00</div>
</div>

<!-- CALCULATOR -->
<div class="calc">
  <h3>üßÆ Earnings Calculator (365 Days)</h3>
  <input type="number" id="amount" placeholder="Investment Amount ($)">
  <input type="number" id="daily" placeholder="Daily Income ($)">
  <button onclick="calc()">Calculate</button>
  <div id="calcResult" class="result"></div>
</div>

<!-- NFT GRID -->
<div class="grid" id="investments"></div>

<script>
const data = JSON.parse(localStorage.getItem("myNFTs")) || [];
const box = document.getElementById("investments");

/* SHOW NFTs */
if(data.length === 0){
  box.innerHTML = "<p style='grid-column:1/-1;text-align:center;'>No investments yet</p>";
}

data.forEach(n=>{
  box.innerHTML += `
  <div class="card">
    <img src="${n.img}">
    <div class="price">$${n.price}</div>
    <div class="meta">
      Daily Income: $${n.daily}<br>
      Validity: 365 Days<br>
      Bought: ${n.date}
    </div>
  </div>`;
});

/* CALCULATOR */
function calc(){
  const a = Number(document.getElementById("amount").value);
  const d = Number(document.getElementById("daily").value);
  if(!a || !d){
    alert("Fill all fields");
    return;
  }
  const yearly = d * 365;
  document.getElementById("calcResult").innerHTML =
    `365 Days Earnings: $${yearly.toFixed(2)}`;
}

/* LIVE EARNINGS */
let totalDaily = 0;
data.forEach(n=> totalDaily += Number(n.daily));

let live = 0;
setInterval(()=>{
  live += totalDaily / 86400; // per second
  document.getElementById("liveEarning").innerHTML =
    "$" + live.toFixed(4);
},1000);
</script>

</body>
</html>
