<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NFT Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#020617;color:white;text-align:center;}
header{background:#0a192f;padding:15px 20px;color:#38bdf8;font-size:22px;font-weight:bold;}
img{max-width:80%;border-radius:12px;margin:20px 0;}
.details{margin:20px;}
.details div{margin:8px 0;font-size:16px;}
button{padding:10px 20px;background:#38bdf8;color:#020617;font-weight:bold;border:none;border-radius:8px;cursor:pointer;margin-top:15px;}
</style>
</head>
<body>

<header>NFT Details</header>

<img id="nftImage" src="">
<div class="details">
  <div id="investAmount"></div>
  <div id="dailyProfit"></div>
  <div id="weeklyProfit"></div>
  <div id="monthlyProfit"></div>
  <div id="yearlyProfit"></div>
  <div id="totalPayout"></div>
</div>
<button id="buyNFTBtn">Buy NFT</button>

<script>
// ----- Read URL Parameters -----
const params = new URLSearchParams(window.location.search);
const price = parseFloat(params.get('price')) || 0;
const img = params.get('img') || '';
const p = parseFloat(params.get('p')) || 2; // daily %
const maxProfit = price*0.5; // 50% cap

// ----- Calculate profits -----
const daily = price * (p/100);
const weekly = daily * 7;
const monthly = daily * 30;
const yearly = daily * 365;
const totalPayoutValue = price + maxProfit; // initial + max 50% return

// ----- Display values -----
document.getElementById('nftImage').src = 'images/' + img;
document.getElementById('investAmount').innerText = `Invest: $${price}`;
document.getElementById('dailyProfit').innerText = `Daily Profit: $${daily.toFixed(2)}`;
document.getElementById('weeklyProfit').innerText = `Weekly Profit: $${weekly.toFixed(2)}`;
document.getElementById('monthlyProfit').innerText = `Monthly Profit: $${monthly.toFixed(2)}`;
document.getElementById('yearlyProfit').innerText = `Yearly Profit: $${yearly.toFixed(2)}`;
document.getElementById('totalPayout').innerText = `Total Payout: $${totalPayoutValue.toFixed(2)}`;

// ----- Buy NFT Button -----
document.getElementById('buyNFTBtn').addEventListener('click', ()=>{
  const data = JSON.parse(localStorage.getItem('myNFTs')) || [];
  data.push({price,p,earned:0,maxProfit,boughtAt:Date.now()});
  localStorage.setItem('myNFTs', JSON.stringify(data));
  alert('NFT Purchased Successfully!');
  window.location.href='dashboard.html';
});
</script>

</body>
</html>
