<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NFT Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#020617;
  color:white;
}
header{
  background:#0a192f;
  padding:15px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
  color:#38bdf8;
}
.container{
  max-width:650px;
  margin:auto;
  padding:20px;
}
.nft-img{
  width:100%;
  border-radius:16px;
  margin-bottom:20px;
}
.box{
  background:#0f172a;
  padding:20px;
  border-radius:16px;
}
.box h2{
  margin-top:0;
  color:#00e5ff;
}
.box p{
  line-height:1.6;
}
.buy-btn{
  width:100%;
  margin-top:20px;
  padding:14px;
  font-size:18px;
  border:none;
  border-radius:12px;
  background:#38bdf8;
  color:#020617;
  font-weight:bold;
  cursor:pointer;
}
.buy-btn:hover{
  background:#00e5ff;
}
</style>
</head>

<body>

<header>SuperNFT – NFT Details</header>

<div class="container">

  <img id="nftImg" class="nft-img">

  <div class="box" id="details"></div>

  <button class="buy-btn" onclick="buyNFT()">Buy NFT</button>

</div>

<script>
const params = new URLSearchParams(window.location.search);

const price = parseFloat(params.get("price"));
const percent = parseFloat(params.get("p")); // daily %
const img = params.get("img");

const daily = (price * percent) / 100;
const weekly = daily * 7;
const monthly = daily * 30;
const yearly = daily * 365;

document.getElementById("nftImg").src = img;

document.getElementById("details").innerHTML = `
<h2>Invest - $${price} and Profit - $${yearly.toFixed(2)}</h2>

<p><b>Daily Profit:</b> ${percent}% of $${price} = <b>$${daily.toFixed(2)}</b></p>

<p>• <b>Weekly Profit:</b> $${weekly.toFixed(2)}</p>
<p>• <b>Monthly Profit:</b> $${monthly.toFixed(2)}</p>
<p>• <b>Yearly Profit:</b> $${yearly.toFixed(2)}</p>

<p><b>Total Payout:</b> $${(price + yearly).toFixed(2)}</p>

<p style="color:#facc15;">
⚠ Max profit is capped at 50% of investment.  
Once reached, upgrade notification will be sent.
</p>
`;

function buyNFT(){
  const data = JSON.parse(localStorage.getItem("myNFTs")) || [];

  data.push({
    price: price,
    daily: daily,
    boughtAt: Date.now(),
    maxReturn: price * 0.5,
    earned: 0
  });

  localStorage.setItem("myNFTs", JSON.stringify(data));

  alert("NFT Purchased Successfully!");
  window.location.href = "dashboard.html";
}
</script>

</body>
</html>
