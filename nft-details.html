<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NFT Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#020617;color:white;}
header{position:sticky;top:0;background:#0a192f;z-index:1000;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #1e293b;}
header .logo{font-size:22px;font-weight:bold;color:#38bdf8;}
.grid{padding:15px;}
.card img{width:100%;border-radius:12px;}
.details{margin:20px;padding:15px;background:#0f172a;border-radius:12px;}
.details b{color:#38bdf8;}
button{padding:10px 15px;border:none;border-radius:8px;background:#38bdf8;color:#020617;font-weight:bold;cursor:pointer;margin-top:15px;}
</style>
</head>
<body>

<header>
  <div class="logo">SuperNFT Details</div>
  <button onclick="window.history.back()">‚Üê Back</button>
</header>

<div class="grid">
  <img id="nftImg" src="">
</div>

<div class="details">
  <div>Invest: $<b id="investAmt">0</b></div>
  <div>Daily Profit: $<b id="dailyProfit">0</b></div>
  <div>Weekly Profit (7 days): $<b id="weeklyProfit">0</b></div>
  <div>Monthly Profit (30 days): $<b id="monthlyProfit">0</b></div>
  <div>Yearly Profit (365 days): $<b id="yearlyProfit">0</b></div>
  <div>Total Payout (Year-end): $<b id="totalPayout">0</b></div>
  <button id="buyBtn">Buy NFT</button>
</div>

<script>
// Get NFT data from URL
const params = new URLSearchParams(window.location.search);
const img = params.get('img');
const price = parseFloat(params.get('price'));
const dailyPerc = parseFloat(params.get('daily'));

// Calculate profits
const dailyProfit = (price * dailyPerc / 100).toFixed(2);
const weeklyProfit = (dailyProfit * 7).toFixed(2);
const monthlyProfit = (dailyProfit * 30).toFixed(2);
const yearlyProfit = (dailyProfit * 365).toFixed(2);
const totalPayout = (price + parseFloat(yearlyProfit)).toFixed(2);

// Set page data
document.getElementById('nftImg').src = img;
document.getElementById('investAmt').innerText = price;
document.getElementById('dailyProfit').innerText = dailyProfit;
document.getElementById('weeklyProfit').innerText = weeklyProfit;
document.getElementById('monthlyProfit').innerText = monthlyProfit;
document.getElementById('yearlyProfit').innerText = yearlyProfit;
document.getElementById('totalPayout').innerText = totalPayout;

// Buy button
document.getElementById('buyBtn').onclick = function(){
  const data = JSON.parse(localStorage.getItem("myNFTs")) || [];
  const maxProfit = price * 0.5;
  data.push({price,dailyPerc,earned:0,maxProfit,boughtAt:Date.now()});
  localStorage.setItem("myNFTs",JSON.stringify(data));
  alert("NFT Purchased Successfully!");
  window.location.href="dashboard.html";
};
</script>

</body>
</html>
